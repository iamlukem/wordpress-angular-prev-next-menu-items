<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="initial-scale=1, maximum-scale=1">
	<meta name="author" content="Luke Martin" />
	<meta name="description" content="Angular + Wordpress custom menu prev/next links" />

	<title>Angular + Wordpress custom menu prev/next links</title>

</head>
<body>
    <h1>Angular + Wordpress</h1>
    <h2>Displaying custom menu prev/next links</h2>
    <p>
        So the idea of this tutorial is to display 'Previous Page' and 'Next Page' links on your site while adhering to the structure of your custom menu.
    </p>
    <p>
        I am writing this on the the presumtion that:
    </p>
    <ol>
        <li>You already have Angular working and integrated with your Wordpress theme</li>
        <li>You already have a custom menu set up and populated.</li>
        <li>Your custom menu is linked to a menu location (Don't worry if it's not. You will still be able to follow along.)</li>
    </ol>
    <h3>Part1. The Plugins</h3>
    <p>
        First thing you will need (if you don't already) is the almighty <a href="https://wordpress.org/plugins/rest-api/" target="__blank">WordPress REST API (Version 2)</a>.
    </p>
    <p>
        Then you will need the Menu addon <a href="https://wordpress.org/plugins/wp-api-menus/" target="__blank">WP API Menus</a>.
    </p>
    <p>
        Once installed go ahead and test your menu. goto:
    </p>
    <ul>
        <li><code>/wp-json/wp-api-menus/v2/menus/&lt;id&gt;</code> data for a specific menu.</li>
        <li><code>/wp-json/wp-api-menus/v2/menu-locations/&lt;location&gt;</code> data for a menu in a specific menu location.</li>
    </ul>
    <p>
        Here is an example call if your menu location is called 'main_navigation_menu'<br>
        <code>/wp-json/wp-api-menus/v2/menu-locations/main_navigation_menu</code>
    </p>
    <p>
        If it's working you should see something like this.
    </p>
    <code>
        '[{"ID":25,"order":1,"parent":0,"title":"Cool Menu Item","url":"http:\/\/... etc etc'
    </code>

    <h3>Part2. Organising the routes</h3>
    <p>
        You want to make sure you pass your :slug into your controller through your $routeProvider. It should look something like this:
    </p>
        <script src="https://gist.github.com/iamlukem/d2e332d56debd95d69fdca4b2e5d48e7.js"></script>
    <p>
        The :slug variable is essentially a 'catch all'. If you have a specific slug it may look like this.
    </p>
        <script src="https://gist.github.com/iamlukem/84a212c0efb96548ec2af1c905e8521e.js"></script>
    <p>
        Either way, it is important to know the slug for the next part.
    </p>
    <h3>Part3. The controller.</h3>
    <p>
        So here is an example of the controller which is calling the JSON menu. If it sucessfully retrieves the menu we will log it to the console.
    </p>
    <script src="https://gist.github.com/iamlukem/b4102f20fc3551646e4981ef2fc9abc9.js"></script>

    <h4>Filtering through the menu.</h4>
    <p>Once we have the JSON call working sweet. we have to:</p>
    <ol>
        <li>Find the current menu item by matching the slug</li>
        <li>Find what item is after it</li>
        <li>Find what item is before it</li>
        <li>Add some extra functionality if the item is at the start or end</li>
        <li>Pass the items to the view</li>
    </ol>
    <script src="https://gist.github.com/iamlukem/9484fc9d5dea810747e055d0775a8447.js"></script>

    <h3>Part4. The View.</h3>
    <p>
        So with our items passed though the scope all we have to do is display the menu data.
    </p>
    <script src="https://gist.github.com/iamlukem/a6fae3456ec1de40624ae5921289f3b9.js"></script>

    <a href="https://github.com/iamlukem/wordpress-angular-prev-next-menu-items/blob/master/app.js">View the Repo</a>
<p>
    I plan to style this page and make the tutorial better, however, if you can't wait you can follow me here <a href="https://twitter.com/iamlukem">@iamlukem</a> and ask any questions.
</p>
</body>
</html>
